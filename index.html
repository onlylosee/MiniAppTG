<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TON STOCKER</title>
    <link rel="stylesheet" href="/styles.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">TON STOCKER</h1>
                <div class="user-info">
                    <span class="user-balance">₽0.00</span>
                    <div class="user-avatar"></div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="wallet">
                <i class="icon-wallet"></i>
                <span>Кошелек</span>
            </button>
            <button class="nav-tab" data-tab="deposit">
                <i class="icon-plus"></i>
                <span>Пополнить</span>
            </button>
            <button class="nav-tab" data-tab="withdraw">
                <i class="icon-minus"></i>
                <span>Вывести</span>
            </button>
            <button class="nav-tab" data-tab="referrals">
                <i class="icon-users"></i>
                <span>Рефералы</span>
            </button>
        </nav>

        <!-- Tab Content -->
        <main class="content">
            <!-- Wallet Tab -->
            <div class="tab-content active" id="wallet">
                <div class="balance-card">
                    <div class="balance-info">
                        <h2>Баланс</h2>
                        <div class="balance-amount">₽<span id="balance">0.00</span></div>
                        <p class="balance-subtitle">Доступно для инвестиций</p>
                    </div>
                    <div class="balance-actions">
                        <button class="btn btn-primary" onclick="switchTab('deposit')">
                            <i class="icon-plus"></i>
                            Пополнить
                        </button>
                        <button class="btn btn-secondary" onclick="switchTab('withdraw')">
                            <i class="icon-minus"></i>
                            Вывести
                        </button>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Всего инвестировано</h3>
                        <p class="stat-value">₽<span id="total-invested">0.00</span></p>
                    </div>
                    <div class="stat-card">
                        <h3>Текущая прибыль</h3>
                        <p class="stat-value green">₽<span id="current-profit">0.00</span></p>
                    </div>
                    <div class="stat-card">
                        <h3>Депозитов</h3>
                        <p class="stat-value"><span id="deposits-count">0</span></p>
                    </div>
                    <div class="stat-card">
                        <h3>Рефералов</h3>
                        <p class="stat-value"><span id="referrals-count">0</span></p>
                    </div>
                </div>

                <div class="deposits-section">
                    <h3>Активные депозиты</h3>
                    <div class="deposits-list" id="deposits-list">
                        <div class="empty-state">
                            <p>У вас пока нет активных депозитов</p>
                            <button class="btn btn-outline" onclick="showInvestModal()">Создать депозит</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Deposit Tab -->
            <div class="tab-content" id="deposit">
                <div class="form-card">
                    <h2>Пополнение баланса</h2>
                    <div class="payment-methods">
                        <button class="payment-method active" data-method="card">
                            <i class="icon-card"></i>
                            <span>Банковская карта</span>
                        </button>
                        <button class="payment-method" data-method="sbp">
                            <i class="icon-phone"></i>
                            <span>СБП</span>
                        </button>
                        <button class="payment-method" data-method="crypto">
                            <i class="icon-crypto"></i>
                            <span>Криптовалюта</span>
                        </button>
                    </div>

                    <div class="amount-input">
                        <label>Сумма пополнения</label>
                        <div class="input-group">
                            <input type="number" id="deposit-amount" placeholder="100" min="100">
                            <span class="currency">RUB</span>
                        </div>
                        <div class="amount-buttons">
                            <button class="amount-btn" onclick="setAmount(500)">500₽</button>
                            <button class="amount-btn" onclick="setAmount(1000)">1000₽</button>
                            <button class="amount-btn" onclick="setAmount(5000)">5000₽</button>
                            <button class="amount-btn" onclick="setAmount(10000)">10000₽</button>
                        </div>
                    </div>

                    <div class="payment-info" id="payment-info">
                        <!-- Payment details will be inserted here -->
                    </div>

                    <button class="btn btn-primary btn-full" onclick="submitDeposit()">
                        Продолжить
                    </button>
                </div>
            </div>

            <!-- Withdraw Tab -->
            <div class="tab-content" id="withdraw">
                <div class="form-card">
                    <h2>Вывод средств</h2>
                    <div class="withdraw-balance">
                        <p>Доступно для вывода: <strong>₽<span id="withdraw-balance">0.00</span></strong></p>
                    </div>

                    <div class="payment-methods">
                        <button class="payment-method active" data-method="card">
                            <i class="icon-card"></i>
                            <span>Банковская карта</span>
                        </button>
                        <button class="payment-method" data-method="sbp">
                            <i class="icon-phone"></i>
                            <span>СБП</span>
                        </button>
                        <button class="payment-method" data-method="crypto">
                            <i class="icon-crypto"></i>
                            <span>Криптовалюта</span>
                        </button>
                    </div>

                    <div class="amount-input">
                        <label>Сумма вывода</label>
                        <div class="input-group">
                            <input type="number" id="withdraw-amount" placeholder="100" min="100">
                            <span class="currency">RUB</span>
                        </div>
                    </div>

                    <div class="requisites-input">
                        <label>Реквизиты для вывода</label>
                        <textarea id="withdraw-requisites" placeholder="Введите реквизиты для вывода средств"></textarea>
                    </div>

                    <button class="btn btn-primary btn-full" onclick="submitWithdraw()">
                        Подать заявку
                    </button>
                </div>
            </div>

            <!-- Referrals Tab -->
            <div class="tab-content" id="referrals">
                <div class="referral-card">
                    <h2>Партнерская программа</h2>
                    <div class="referral-stats">
                        <div class="referral-level">
                            <span>1 уровень (20%)</span>
                            <strong id="ref-level1">0</strong>
                        </div>
                        <div class="referral-level">
                            <span>2 уровень (3%)</span>
                            <strong id="ref-level2">0</strong>
                        </div>
                        <div class="referral-level">
                            <span>3 уровень (1%)</span>
                            <strong id="ref-level3">0</strong>
                        </div>
                    </div>

                    <div class="referral-link">
                        <label>Ваша реферальная ссылка</label>
                        <div class="link-container">
                            <input type="text" id="ref-link" readonly>
                            <button class="btn btn-copy" onclick="copyLink()">
                                <i class="icon-copy"></i>
                            </button>
                        </div>
                    </div>

                    <button class="btn btn-primary btn-full" onclick="shareLink()">
                        Поделиться ссылкой
                    </button>
                </div>
            </div>
        </main>

        <!-- Investment Modal -->
        <div class="modal" id="invest-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Создать депозит</h3>
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="investment-info">
                        <p>Процентная ставка: <strong>4% в день</strong></p>
                        <p>Минимальная сумма: <strong>10 RUB</strong></p>
                        <p>Срок депозита: <strong>60 дней</strong></p>
                    </div>
                    <div class="amount-input">
                        <label>Сумма инвестиций</label>
                        <div class="input-group">
                            <input type="number" id="invest-amount" placeholder="10" min="10">
                            <span class="currency">RUB</span>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-full" onclick="submitInvestment()">
                        Создать депозит
                    </button>
                </div>
            </div>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
        </div>

        <!-- Toast notifications -->
        <div class="toast" id="toast"></div>
    </div>

    <script src="/script.js"></script>
</body>
</html>

